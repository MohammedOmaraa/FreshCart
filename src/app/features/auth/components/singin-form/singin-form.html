<form [formGroup]="signInForm" (ngSubmit)="onSubmit()">
  {{ signInForm.errors }}
  <div class="px-12 pb-10">
    <!-- (input filed): email -->
    <div class="w-full mb-2">
      <div class="flex flex-col">
        <label for="email">User Email</label
        ><input
          formControlName="email"
          id="email"
          type="email"
          placeholder="Enter Your Email"
          class="w-full border rounded px-3 py-2 text-gray-700 focus:outline-none"
        />
      </div>
      <!-- Error Handling -->
      @let userEmail = signInForm.get('email'); @if
      (userEmail?.touched&&userEmail?.errors) {
      <app-error-message>
        @if (userEmail?.getError('required')){
        <li>Email is required</li>
        } @else if (userEmail?.getError('email')) {

        <li>Invalid Email</li>

        }
      </app-error-message>
      }
    </div>

    <!-- (input filed): password -->
    <div class="w-full mb-2">
      <div class="flex flex-col">
        <label for="password">User Password</label
        ><input
          formControlName="password"
          id="password"
          type="password"
          placeholder="Enter Your Password"
          class="w-full border rounded px-3 py-2 text-gray-700 focus:outline-none"
        />
      </div>
      <!-- Error Handling -->
      @let userPassword = signInForm.get('password'); @if
      (userPassword?.touched&&userPassword?.errors) {
      <app-error-message>
        @if (userPassword?.getError('required')){
        <li>This is required</li>
        } @else if (userPassword?.getError('pattern')) {
        <li>
          Minimum eight characters, at least one uppercase letter, one lowercase
          letter and one number:
        </li>
        }
      </app-error-message>
      }
    </div>

    <button
      [disabled]="isLoading || signInForm.invalid"
      type="submit"
      class="mx-auto disabled:bg-green-500 disabled:cursor-auto block w-1/3 py-2 my-8 rounded-full bg-main text-gray-100 cursor-pointer focus:outline-none"
    >
      Submit @if (isLoading) {
      <i class="fas fa-spinner fa-spin"></i>
      }
    </button>

    @if (errorMessage) {
    <div
      class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4"
      role="alert"
    >
      <p class="font-bold">{{ errorMessage }}</p>
    </div>
    } @if (successMessage) {
    <div
      class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4"
      role="alert"
    >
      <p class="font-bold">Login {{ successMessage }}</p>
    </div>
    }
  </div>
</form>
